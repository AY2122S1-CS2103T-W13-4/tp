@startuml
!include style.puml
skinparam defaultFontSize 20

box Logic LOGIC_COLOR_T1
participant ":LogicManager" as LogicManager LOGIC_COLOR
participant ":MainParser" as MainParser LOGIC_COLOR
participant ":FriendCommandParser" as FriendCommandParser LOGIC_COLOR
participant ":LinkFriendCommandParser" as LinkFriendCommandParser LOGIC_COLOR
participant "command:LinkFriendCommand" as LinkFriendCommand LOGIC_COLOR
participant ":CommandResult" as CommandResult LOGIC_COLOR
end box

box Model MODEL_COLOR_T1
participant ":Model" as Model MODEL_COLOR
end box

[-> LogicManager : execute("friend --link draco -g Valorant -u DracoPlat")
activate LogicManager

LogicManager -> MainParser : parseCommand("friend --link draco -g Valorant -u DracoPlat")
activate MainParser

create FriendCommandParser
MainParser -> FriendCommandParser
activate FriendCommandParser

FriendCommandParser --> MainParser
deactivate FriendCommandParser

MainParser -> FriendCommandParser : parse(" --link draco -g Valorant -u DracoPlat")
activate FriendCommandParser

create LinkFriendCommandParser
FriendCommandParser -> LinkFriendCommandParser
activate LinkFriendCommandParser

LinkFriendCommandParser --> FriendCommandParser
deactivate LinkFriendCommandParser

FriendCommandParser -> LinkFriendCommandParser : parse("--link draco -g Valorant -u DracoPlat")
activate LinkFriendCommandParser

create LinkFriendCommand
LinkFriendCommandParser -> LinkFriendCommand
activate LinkFriendCommand

LinkFriendCommand --> LinkFriendCommandParser : command
deactivate LinkFriendCommand

LinkFriendCommandParser --> FriendCommandParser : command
deactivate LinkFriendCommandParser
'Hidden arrow to position the destroy marker below the end of the activation bar.
LinkFriendCommandParser -[hidden]-> FriendCommandParser
destroy LinkFriendCommandParser

FriendCommandParser --> MainParser : command
deactivate FriendCommandParser
'Hidden arrow to position the destroy marker below the end of the activation bar.
FriendCommandParser -[hidden]-> MainParser
destroy FriendCommandParser

MainParser --> LogicManager : command
deactivate MainParser

LogicManager -> LinkFriendCommand : command.execute()
activate LinkFriendCommand

LinkFriendCommand -> Model : linkFriend(friendToLink, gameFriendLink)
activate Model

Model --> LinkFriendCommand
deactivate Model

create CommandResult
LinkFriendCommand -> CommandResult
activate CommandResult

CommandResult --> LinkFriendCommand
deactivate CommandResult

LinkFriendCommand --> LogicManager : result
deactivate LinkFriendCommand

[<--LogicManager
deactivate LogicManager
@enduml